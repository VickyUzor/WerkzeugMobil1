<Window x:Class="WerkzeugMobil.ProjekteView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewmodel="clr-namespace:WerkzeugMobil.MVVM.Viewmodel"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Title="ProjektÃ¼bersicht" Height="750" Width="1200"
        Background="#00254D">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>

    <Window.DataContext>
        <viewmodel:ProjekteViewModel/>
    </Window.DataContext>

    <Grid>
        <!-- Header -->
        <Border Height="80" VerticalAlignment="Top" Background="#004D80">
            <Grid>
                <Image Source="pack://application:,,,/LogoRech.png"
                       Width="150" Height="50"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Left"
                       Margin="20,0,0,0"
                       UseLayoutRounding="True" />

                <!-- Search TextBox -->
                <TextBox Width="400" Height="40"
                         Margin="300,0,0,0"
                         VerticalAlignment="Center"
                         Foreground="White"
                         FontSize="16"
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                         HorizontalAlignment="Left"
                         Padding="10,0"
                         VerticalContentAlignment="Center"
                         TextChanged="TextBox_TextChanged">
                    <!-- Style for TextBox -->
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="Background" Value="#1A3A56"/>
                            <!-- Darker blue background -->
                            <Setter Property="BorderBrush" Value="#66FFFFFF"/>
                            <Setter Property="BorderThickness" Value="2"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TextBox">
                                        <Grid>
                                            <!-- Placeholder Text visible when text is empty -->
                                            <TextBlock Text="Search..."
                                                       Foreground="#88FFFFFF"
                                                       Margin="10,0,0,0"
                                                       VerticalAlignment="Center"
                                                       IsHitTestVisible="False"
                                                       Visibility="{Binding Text.IsEmpty, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                            <ScrollViewer x:Name="PART_ContentHost" Margin="0"/>
                                        </Grid>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBox.Style>

                    <!-- Shadow Effect for the TextBox -->
                    <TextBox.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="5" Opacity="0.5"/>
                    </TextBox.Effect>
                </TextBox>
            </Grid>
        </Border>

        <!-- Project List -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="20,100,20,20">
            <ItemsControl ItemsSource="{Binding Projekte}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="2" HorizontalAlignment="Center"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Command="{Binding DataContext.OpenProjektCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                CommandParameter="{Binding}"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                FocusVisualStyle="{x:Null}"
                                Padding="0"
                                Margin="0">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="Background" Value="#1E3A56"/>
                                    <Setter Property="CornerRadius" Value="15"/>
                                    <Setter Property="Effect">
                                        <Setter.Value>
                                            <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.3"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                                    <Setter Property="RenderTransform">
                                        <Setter.Value>
                                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource AncestorType=Button}}" Value="True">
                                            <Setter Property="Background">
                                                <Setter.Value>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                        <GradientStop Color="#3A8DFF" Offset="0.0"/>
                                                        <GradientStop Color="#007ACC" Offset="1.0"/>
                                                    </LinearGradientBrush>
                                                </Setter.Value>
                                            </Setter>
                                            <Setter Property="RenderTransform">
                                                <Setter.Value>
                                                    <ScaleTransform ScaleX="1.05" ScaleY="1.05"/>
                                                </Setter.Value>
                                            </Setter>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Resources>

                            <Border Width="400" Height="200" Margin="20">
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="20">
                                    <TextBlock Text="{Binding ProjektAddresse}" FontSize="18" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                                </StackPanel>
                            </Border>
                        </Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</Window>