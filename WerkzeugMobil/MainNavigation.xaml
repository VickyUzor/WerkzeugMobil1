<Window x:Class="WerkzeugMobil.MainNavigation"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:viewmodel="clr-namespace:WerkzeugMobil.MVVM.Viewmodel"
         xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
         WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Title="Device Interface" Height="750" Width="1200"
        Background="#FFFFFF">
    <!-- Blue Background -->
    <Window.DataContext>
        <viewmodel:MainViewModel />
    </Window.DataContext>
    <Grid>
        <!-- Main Layout -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" />
            <!-- Sidebar -->
            <ColumnDefinition Width="*" />
            <!-- Main Content -->
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Grid Background="#0B2E4A" Grid.Column="0" Margin="0,0,940,0" Grid.ColumnSpan="2">
            <!-- Sidebar Grid with three rows -->
            <Grid>
                <Grid.RowDefinitions>
                    <!-- Row 0: Search bar -->
                    <RowDefinition Height="Auto" />
                    <!-- Row 1: Empty space -->
                    <RowDefinition Height="*" />
                    <!-- Row 2: Plus button at the bottom -->
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Search Bar (Row 0) -->
                <StackPanel VerticalAlignment="Top" HorizontalAlignment="Stretch" Grid.Row="0" Margin="10">
                    <Border Background="White" BorderBrush="#CCCCCC" BorderThickness="1" Padding="5" Margin="0,0,0,20">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <!-- TextBox -->
                                <ColumnDefinition Width="50" />
                                <!-- Search Button -->
                            </Grid.ColumnDefinitions>

                            <!-- Search Box -->
                            <TextBox Name="SearchTextBox"
                     Text="{Binding SearchTerm, UpdateSourceTrigger=PropertyChanged}"
                     HorizontalAlignment="Stretch"
                     VerticalAlignment="Center"
                     Margin="5,0,5,0"
                     BorderBrush="Transparent"
                     Background="Transparent" />

                            <!-- Search Button -->
                            <Button Background="Transparent" BorderThickness="0" VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Column="1" Command="{Binding SearchCommand}">
                                <TextBlock Text="🔍" FontSize="20" VerticalAlignment="Center" HorizontalAlignment="Center" />
                            </Button>
                        </Grid>
                    </Border>

                    <!-- Werkzeuge List -->
                    <ListBox ItemsSource="{Binding FilteredWerkzeuge}" DisplayMemberPath="WerkzeugId">
                        <ListBox>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding WerkzeugId}" FontWeight="Bold" />
                                    <TextBlock Text=" - " />
                                    <TextBlock Text="{Binding Art}" />
                                    <TextBlock Text=" (" />
                                    <TextBlock Text="{Binding Marke}" />
                                    <TextBlock Text=")" />
                                </StackPanel>
                            </DataTemplate>
                        </ListBox>
                    </ListBox>
                </StackPanel>


                <!-- Icon Section (User and Contract Icons) -->
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Grid.Row="1">
                    <!-- User Icon -->
                    <Button Width="60" Height="60" Background="White" BorderBrush="Transparent" BorderThickness="1" Cursor="Hand" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="30">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock Text="👤" FontSize="30" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Button>

                    <!-- Contract Icon -->
                    <Button Width="60" Height="60" Background="White" BorderBrush="Transparent" BorderThickness="1" Cursor="Hand" HorizontalAlignment="Center" VerticalAlignment="Center" Click="Maschine_Lager">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="30">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock Text="📄" FontSize="30" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Button>
                </StackPanel>

                <!-- Plus Icon at the Bottom (Row 2) -->
                <Button Width="60" Height="60" Background="White" BorderBrush="Transparent" BorderThickness="1" Cursor="Hand" Grid.Row="2" Margin="10,10,10,25" Click="PlusButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="{x:Type Button}">
                            <Border Background="{TemplateBinding Background}" BorderBrush="#D3D3D3" BorderThickness="1" CornerRadius="30">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                    <TextBlock Text="+" FontSize="30" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,2" />
                </Button>

            </Grid>
        </Grid>

        <!-- Main Content -->
        <Grid Grid.Column="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="279*"/>
                <ColumnDefinition Width="176*"/>
            </Grid.ColumnDefinitions>
            <Border Background="White" CornerRadius="10" Padding="20" Margin="10,96,10,0" Grid.ColumnSpan="2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <!-- Form Section -->
                        <ColumnDefinition Width="1*" />
                        <!-- History Section -->
                    </Grid.ColumnDefinitions>


                    <!-- Form Section -->
                    <StackPanel Margin="20" Grid.Column="0">
                        <TextBlock Text="Geräte Kennzahl" FontWeight="Bold" FontSize="14" Margin="0,0,0,5" />
                        <TextBox Height="25" Background="#F0F0F0" BorderBrush="#D3D3D3" Margin="0,0,0,10" 
                                 Text="{Binding currentWerkzeug.WerkzeugId, UpdateSourceTrigger=PropertyChanged}" 
                                 IsReadOnly="True" />

                        <TextBlock Text="Marke" FontWeight="Bold" FontSize="14" Margin="0,10,0,5" />
                        <TextBox Height="25" Background="#F0F0F0" BorderBrush="#D3D3D3" Margin="0,0,0,10" 
                                 Text="{Binding currentWerkzeug.Marke, UpdateSourceTrigger=PropertyChanged}" 
                                 IsReadOnly="True" />

                        <TextBlock Text="Art" FontWeight="Bold" FontSize="14" Margin="0,10,0,5" />
                        <TextBox Height="25" Background="#F0F0F0" BorderBrush="#D3D3D3" Margin="0,0,0,10" 
                                 Text="{Binding currentWerkzeug.Art, UpdateSourceTrigger=PropertyChanged}" 
                                 IsReadOnly="True" />

                        <TextBlock Text="Projekt Adresse" FontWeight="Bold" FontSize="14" Margin="0,10,0,5" />
                        <TextBox Height="25" Background="#F0F0F0" BorderBrush="#D3D3D3" Margin="0,0,0,10" 
                                 Text="{Binding currentWerkzeug.ProjektAdresse, UpdateSourceTrigger=PropertyChanged}" 
                                 IsReadOnly="True" />

                        <TextBlock Text="Beschreibung (optional)" FontWeight="Bold" FontSize="14" Margin="0,10,0,5" />
                        <TextBox Height="140" TextWrapping="Wrap" Background="#F0F0F0" BorderBrush="#D3D3D3" 
                                 Margin="0,0,0,10" Text="{Binding currentWerkzeug.Beschreibung, UpdateSourceTrigger=PropertyChanged}" 
                                 IsReadOnly="True" />
                    </StackPanel>

                    <!-- History Section -->
                    <Border Background="White" CornerRadius="5" Grid.Column="1" Margin="10" Padding="10" VerticalAlignment="Stretch" BorderBrush="#E0E0E0" BorderThickness="1" Height="300">
                        <StackPanel>
                            <TextBlock Text="History" FontWeight="Bold" FontSize="14" Margin="0,0,0,5"/>
                            <ListView ItemsSource="{Binding History}" Background="#F0F0F0" BorderBrush="Transparent" Height="200">
                                <!-- Set height for last 5 items -->
                            </ListView>
                        </StackPanel>
                    </Border>
                </Grid>
            </Border>
        </Grid>

    </Grid>
    
</Window>