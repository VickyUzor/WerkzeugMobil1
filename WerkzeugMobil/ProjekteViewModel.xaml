<Window x:Class="WerkzeugMobil.ProjekteView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewmodel="clr-namespace:WerkzeugMobil.MVVM.Viewmodel"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Title="ProjektÃ¼bersicht" Height="750" Width="1200"
        Background="#00254D">

	<Window.DataContext>
		<viewmodel:ProjekteViewModel/>
	</Window.DataContext>

	<Grid>
		<!-- Header -->
		<Border Height="80" VerticalAlignment="Top" Background="#004D80">
			<Grid>
				<Image Source="pack://application:,,,/LogoRech.png"
                       Width="150" Height="50"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Left"
                       Margin="20,0,0,0" UseLayoutRounding="True" />
				<TextBox Width="400" Height="40"
                         Margin="300,0,0,0"
                         VerticalAlignment="Center"
                         Background="White"
                         BorderBrush="#CCCCCC"
                         BorderThickness="1"
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>
				<Button Content="Search"
                        Width="100"
                        Height="40"
                        Margin="720,0,0,0"
                        VerticalAlignment="Center"
                        Background="#FFFFFF"
                        Foreground="Black"
                        BorderThickness="0"
                        Command="{Binding SearchCommand}" />
			</Grid>
		</Border>

		<!-- Project List -->
		<ScrollViewer VerticalScrollBarVisibility="Auto" Margin="20,100,20,20">
			<WrapPanel>
				<ItemsControl ItemsSource="{Binding Projekte}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Button Command="{Binding DataContext.OpenProjektCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                    CommandParameter="{Binding}">
								<Border Width="250" Height="150" Background="#FFD700" CornerRadius="10" Margin="10"
                                        Effect="{DynamicResource ShadowEffect}">
									<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
										<TextBlock Text="{Binding ProjektAddresse}" FontSize="16" Foreground="Black" FontWeight="Bold" HorizontalAlignment="Center" />
									</StackPanel>
								</Border>
							</Button>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</WrapPanel>
		</ScrollViewer>
	</Grid>
</Window>
